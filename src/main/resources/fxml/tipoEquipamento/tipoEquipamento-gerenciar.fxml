<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<?import javafx.scene.layout.Region?>
<?import javafx.scene.control.CheckBox?>

<?import javafx.scene.control.ScrollPane?>
<?import javafx.geometry.Insets?>
<AnchorPane fx:id="rootPane"
            xmlns="http://javafx.com/javafx/24.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.marcoswolf.repairflow.ui.controller.tipoEquipamento.TipoEquipamentoGerenciarController"
            style="-fx-background-color: #F0F0F0;">

    <ScrollPane fitToWidth="true"
                fitToHeight="true"
                style="-fx-background-color: #F0F0F0;"
                AnchorPane.topAnchor="0.0"
                AnchorPane.bottomAnchor="0.0"
                AnchorPane.leftAnchor="0.0"
                AnchorPane.rightAnchor="0.0">
        <content>
            <HBox alignment="TOP_CENTER" style="-fx-background-color: #F0F0F0;">
                <padding>
                    <Insets top="20" right="30" bottom="20" left="30" />
                </padding>

                <VBox spacing="15" style="-fx-background-color: #F0F0F0;" maxWidth="1200" HBox.hgrow="ALWAYS">

                    <HBox alignment="CENTER_LEFT">
                        <Label fx:id="lblTitulo"
                               text="Gerenciar Tipos de Equipamento"
                               styleClass="titulo-principal"
                               HBox.hgrow="ALWAYS"/>
                        <Region HBox.hgrow="ALWAYS" />
                        <Button fx:id="btnVoltar"
                                text="← Voltar"
                                styleClass="btn-voltar"
                                onAction="#voltar"
                                minWidth="80"
                                prefHeight="32"/>
                    </HBox>

                    <Separator />

                    <VBox spacing="15" style="-fx-background-color: #FFFFFF; -fx-padding: 15; -fx-background-radius: 8;">

                        <HBox alignment="CENTER_LEFT" spacing="10">
                            <TextField fx:id="txtBuscar"
                                       promptText="Buscar por nome..."
                                       minWidth="200"
                                       prefWidth="300"
                                       maxWidth="Infinity"
                                       HBox.hgrow="ALWAYS" />
                            <Button fx:id="btnBuscar"
                                    onAction="#buscar"
                                    style="-fx-background-color: #1976D2; -fx-text-fill: white;"
                                    text="Buscar"
                                    minWidth="80" />
                            <Button fx:id="btnFiltros"
                                    style="-fx-background-color: #E0E0E0; -fx-text-fill: #333;"
                                    text="Filtros"
                                    minWidth="80" />
                            <Button fx:id="btnNovo"
                                    onAction="#cadastrar"
                                    style="-fx-background-color: #4CAF50; -fx-text-fill: white;"
                                    text="Cadastrar"
                                    minWidth="100" />
                        </HBox>

                        <VBox fx:id="filtroPane"
                              visible="false"
                              managed="false"
                              opacity="0"
                              style="-fx-background-color: #f9f9f9; -fx-border-color: #ddd; -fx-border-radius: 6; -fx-padding: 10;"
                              spacing="8">
                            <Label text="Filtros Avançados"
                                   style="-fx-font-weight: bold; -fx-text-fill: #333;"/>
                            <CheckBox fx:id="chkPendentes"
                                      text="Clientes com pagamentos pendentes"/>
                            <CheckBox fx:id="chkInativos"
                                      text="Clientes inativos"/>
                            <CheckBox fx:id="chkRecentes"
                                      text="Cadastrados nos últimos 30 dias"/>
                            <CheckBox fx:id="chkReparosAberto"
                                      text="Com reparos em aberto"/>
                            <HBox alignment="CENTER_RIGHT" spacing="8">
                                <Button text="Limpar"
                                        style="-fx-background-color: #f0f0f0; -fx-text-fill: #333;"
                                        minWidth="80" />
                                <Button text="Aplicar Filtros"
                                        style="-fx-background-color: #1976D2; -fx-text-fill: white;"
                                        minWidth="120" />
                            </HBox>
                        </VBox>

                        <TableView fx:id="tabela"
                                   VBox.vgrow="ALWAYS"
                                   minHeight="400"
                                   prefHeight="500">
                            <columns>
                                <TableColumn fx:id="colNome"
                                             minWidth="150"
                                             prefWidth="250"
                                             text="Nome" />
                                <TableColumn fx:id="colTotalClientes"
                                             minWidth="150"
                                             prefWidth="160"
                                             text="Clientes" />
                                <TableColumn fx:id="colTotalEquipamentos"
                                             minWidth="150"
                                             prefWidth="160"
                                             text="Equipamentos" />
                                <TableColumn fx:id="colTotalReparos"
                                             minWidth="150"
                                             prefWidth="160"
                                             text="Reparos" />
                            </columns>
                            <columnResizePolicy>
                                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                            </columnResizePolicy>
                        </TableView>
                    </VBox>

                </VBox>
            </HBox>
        </content>
    </ScrollPane>
</AnchorPane>